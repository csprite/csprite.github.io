<!doctypehtml><html lang=en><head><meta charset=UTF-8><meta content=IE=edge http-equiv=X-UA-Compatible><meta content=width=device-width,initial-scale=1.0 name=viewport><title>Building from source | csprite</title><link href=/favicon.png rel=icon type=image/png><link href=https://cdn.jsdelivr.net/npm/modern-normalize/modern-normalize.min.css rel=stylesheet><link href=/css/styles.css rel=stylesheet><meta content=en_US property=og:locale><meta content=csprite property=og:site_name><meta content=website property=og:type><meta content=/favicon.png property=og:image></head><body><nav><a href=/>Home</a><a href=/download.html>Download</a><a href=/wiki.html>Wiki</a></nav><header><h1>Building from source</h1><div><time></time><time class=modified_on></time></div></header><article><ol><li><p>Setup Your Environment</p> <ul><li><a href=#windows>Setup Windows</a></li><li><a href=#linux>Setup Linux</a></li><li><a href=#macos>Setup macOS</a></li></ul></li><li><p>Build & Install Required Libraries</p> <ul><li><a href=#build--install-sdl2>Build & Install SDL2</a></li><li><a href=#install-numpy--pillow>Install Numpy & Pillow</a></li></ul></li><li><p><a href=#build-csprite>Build csprite</a></p></li></ol><h2>Windows</h2><ol><li><p>install <a href=%5Bhttps://www.msys2.org/%5D(https://visualstudio.microsoft.com/downloads/)>Visual Studio</a> or <a href=https://visualstudio.microsoft.com/downloads/#build-tools-for-visual-studio-2022>Visual Studio: Build Tools</a>.</p></li><li><p>whichever version of Visual Studio you install make sure the following components are selected to installed, everything else can be completely disabled to save bandwidth:</p> <ul><li>Desktop development with C++ <ul><li>C++ AddressSanitizer</li><li>Clang Compiler For Windows</li><li>One Of These SDKs: <ul><li>Windows 10 SDK (XX.X.XXXXX.X)</li><li>Windows 11 SDK (XX.X.XXXXX.X)</li></ul></li></ul></li></ul></li><li><p>install <a href=https://www.python.org/>python</a> since few scripts depend on them.</p></li><li><p>install <a href=https://git-scm.com/downloads>git</a> to clone repositories.</p></li></ol><h2>Linux</h2><ol><li><p>install any compiler toolchain:</p> <ul><li><p>GCC: GNU Compiler Collection</p> <ul><li>Debian & Children: <code>apt install gcc</code> (g++ should be automatically installed by installing gcc)</li><li>Arch & Children: <code>pacman -S gcc</code> (g++ comes with gcc)</li></ul></li><li><p>Clang: C language family frontend for LLVM</p> <ul><li>Debian & Children: <code>apt install clang</code> (clang++ comes with clang)</li><li>Arch & Children: <code>pacman -S clang</code> (clang++ comes with clang)</li></ul></li></ul></li><li><p>install any build system:</p> <ul><li><p>Ninja Build</p> <ul><li>Debian & Children: <code>apt install ninja-build</code></li><li>Arch & Children: <code>pacman -S ninja</code></li></ul></li><li><p>GNU Make</p> <ul><li>Debian & Children: <code>apt install make</code></li><li>Arch & Children: <code>pacman -S make</code></li></ul></li></ul></li><li><p>install Other Dependencies:</p> <ul><li>Arch & Children: <code>pacman -S git cmake sdl2 python3</code></li><li>Debian & Children: <code>apt install git cmake libsdl2-2.0-0 libsdl2-dev python3 python3-pip</code> <ul><li>SDL2 on Debian & Children's Repository are very old and csprite requires SDL2 v2.0.17 or greater, so you will need to build & install it yourself from source</li></ul></li></ul></li></ol><h2>macOS</h2><ol><li><p>install a compiler toolchain:</p> <ul><li>Xcode: https://developer.apple.com/xcode/</li><li>GCC: GNU Compiler Toolchain: <code>brew install gcc</code></li><li>Clang: C language family frontend for LLVM: as far as i know clang is pre-installed on MacOS</li></ul></li><li><p>install other deps with homebrew:</p> <ul><li><code>brew install git cmake sdl2 python@3.9</code></li></ul></li></ol><h2>Build & Install SDL2</h2><p>this step is required on <a href=#windows>Window</a> or Debian & Debian based linux distributions since the package is either too old or isn't available at all (like on windows).</p><ol><li>Get SDL2 v2.26.5 Source Code: <code>git clone https://github.com/libsdl-org/SDL/ -b release-2.26.5</code></li><li>Move into newly cloned directory & Generate Build Files: <ul><li><code>cd SDL/</code></li><li>Build & Install using these <a href=#build--install-instructions>Build & Install Instructions</a></li></ul></li></ol><h2>Install Numpy & Pillow</h2><ul><li>Python Package <code>Pillow</code> & <code>numpy</code> can be installed using various methods: <ul><li>Python PIP: <code>python -m pip install --upgrade Pillow numpy</code> (Works where-ever pip is installed, which comes installed with python on Arch, Homebrew & Windows on Debian & Children you will need to install <code>python3-pip</code> (already done in setup).</li><li>Homebrew: <code>homebrew install pillow numpy</code></li><li>Arch & Children: <code>pacman -S python-numpy python-pillow</code></li></ul></li></ul><h2>Build & Install Instructions</h2><p>these instructions are used for build SDL2 & Csprite.</p><ol><li><p>Generate Build Files: <code>cmake -S ./ -B ./build/ &LTother-options></code></p> <ul><li><code>-DCMAKE_BUILD_TYPE=Release</code> this option enables all sorts of optimizations & stuff is recommended if you're building for daily use, other possible values are: <code>RelWithDebInfo</code> & <code>Debug</code>.</li><li><code>-G</code> option specifies the generator to use. <ul><li>On Linux, you can use <code>-G "Ninja"</code> (recomendded) or <code>-G "Unix Makefiles"</code>.</li><li>On MacOS, you can use: <code>-G "Xcode"</code> (recomendded) or <code>-G "Unix Makefiles"</code>.</li><li>On Windows, since you install Visual Studio you can use the following generators: <ul><li>you can specify any of the follow Visual Studio generators, depending on the version of Visual Studio you installed: <code>Visual Studio 17 2022</code>, <code>Visual Studio 16 2019</code>, <code>Visual Studio 15 2017</code> & <code>Visual Studio 14 2015</code></li></ul></li></ul></li><li><code>-T "ClangCL"</code> flag specifies the toolset to use, this is meant for Windows & is used to Compile using Clang since it doesn't have weird rules & regulations like MSVC.</li><li><code>-A</code> flag specifies the platform you are building the library for & this flag is only used on Window. <ul><li>use <code>-A "x64"</code> for x64 or x86_64 platform.</li><li>use <code>-A "Win32"</code> for x86 or i686 platform.</li></ul></li><li><code>-DCMAKE_OSX_ARCHITECTURES=x86_64</code> flag specifies the Mac CPU Architecture to build for. <ul><li>use <code>arm64</code> for Apple Silicon M1 or M2 (or new CPUs apple might introduce with arm64 architecture).</li><li>use <code>x86_64</code> for Apple CPUs with x64 or x86_64 architecture, this can be used with Apple's M1 & M2 chips since they can run x64 binaries too.</li></ul></li><li><code>-DBUILD_APPLE_BUNDLE=ON</code> flag specifies wether to build a Apple's <code>.app</code> bundle or not, by default the value is <code>OFF</code>.</li></ul></li><li><p>Build The Code With Generated Build Files: <code>cmake --build ./build/ &LTother-options></code></p> <ul><li><code>--config Release</code> flag specifies the build configuration to build for, the value should be same as the value of <code>-DCMAKE_BUILD_TYPE</code> flag above.</li><li><code>--parallel 4</code> flag specifies the number of jobs while building, the value should be set to your number of CPU Cores & if it causes it to lag set the value to something smaller.</li></ul></li><li><p>Install: <code>sudo cmake --install ./build/ --strip</code></p> <ul><li><code>--config Release</code> flag is same as the flag in step 2.</li><li>this step should be only used when building a library and will require administrative permissions, so on linux you might need to use <code>sudo</code> and on windows you will need to run your terminal "Run as administrator".</li></ul></li></ol><h2>Build Csprite</h2><ol><li>Clone Csprite Repository: <code>git clone https://github.com/pegvin/csprite --recursive</code></li><li>Move Into Cloned Repository Folder: <code>cd csprite</code></li><li>Generate Icons & Assets: <ul><li>Icons: <code>python tools/create_icons.py</code></li><li>Assets: <code>python tools/create_assets.py</code></li></ul></li><li>Build Csprite using <a href=#build--install-instructions>Build & Install Instructions</a> & you should have your final binary/package in a folder name on of the following: <code>Release</code>, <code>RelWithDebInfo</code> or <code>Debug</code>.</li></ol></article></body></html>